The DS (Data Segment) register is a 16-bit register in the x86 architecture that points to the base memory address of a program's data segment. This segment contains the program's defined variables, constants, and other working areas. The way DS is used depends on the processor's operating mode, just like the code segment (CS) register. 
Function of the Data Segment (DS) register
The primary purpose of the DS register is to provide a reference point for accessing data in memory efficiently. All data memory references that don't explicitly specify another segment register use the DS register by default. 
For example, an assembly instruction like MOV AX, [my_var] will read a value from the data segment and place it into the AX register. The CPU automatically uses the address in the DS register to locate my_var. 
Behavior in different operating modes
In real mode (16-bit)
Physical address calculation: The 20-bit physical address for a data variable is calculated by shifting the 16-bit value in the DS register four bits to the left (multiplying by 16) and adding the 16-bit offset of the variable. This allows a 16-bit processor to address up to 1 megabyte of memory.
Formula: Physical Address = (DS * 16) + Offset
Example: If DS contains 1234h and the variable's offset is 0022h, the physical address is 12340h + 0022h = 12362h. 
In protected mode (32-bit and 64-bit)
Segment selectors: In protected mode, the DS register, like other segment registers, holds a segment selector, not a raw address. This selector acts as an index into a descriptor table (the Global Descriptor Table or GDT), which contains the true base address, limit, and access permissions for the data segment.
Memory protection: This mechanism enables the operating system to enforce memory protection. The CPU will generate a "segmentation fault" exception if a program attempts to access data outside the bounds defined by the segment's limit.
Flat memory model: In modern 32-bit and 64-bit operating systems, a flat memory model is used. In this model, the operating system sets the DS register to a value that points to a segment covering the entire addressable memory space (up to 4 GB). This effectively disables segmentation for most application-level code, treating all memory as a single, contiguous block. 
DS vs. other segment registers
While DS is the default for most data accesses, other registers are designated for specific purposes:
CS (Code Segment): Used exclusively for fetching instructions.
SS (Stack Segment): Used for all stack operations, including PUSH, POP, and accessing local variables and function parameters via the stack pointer (SP/ESP/RSP) or base pointer (BP/EBP/RBP).
ES, FS, and GS (Extra Segment Registers): Available for specialized data access. For instance, the extra segment register (ES) is often used for string instructions as the destination of an operation, while FS and GS are used by modern operating systems for things like thread-local storage. 